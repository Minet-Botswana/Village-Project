<!DOCTYPE html>
{% load widget_tweaks %}
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <!-- Add these links to include Bootstrap and jQuery -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <style>
        form{
           margin: 50px; 
          
        }
        .title {
            text-align: center;
            color: red;
            margin-top: 75px; /* Adjust the top margin as needed */
        }
        .btn-primary{
          background-color: red !important;
          border-radius: 25px !important;
          border: #e22a21 !important;
        }
        .btn-primary:hover{
          background-color: #fff !important;
          color: #e22a21 !important;
          border: 1px solid #2f597d !important;
        }
        .form-group{
          color: #e22a21 !important;
          font-family: "Titillium Web", sans-serif !important;
        }

    </style>
  </head>
  <body>
    {% include "customer/customer_nav.html" %}
    <br><br><br>
    <h3 class="title" style="text-align: center;color: red;">CLIENT SIGNUP</h3>
    <form method="POST" autocomplete="off" enctype="multipart/form-data">
      {% csrf_token %}
      <div class="form-row">
        <div class="form-group col-md-6">
          <label for="first_name">First Name</label>
          {% render_field userForm.first_name|attr:'required:true'  class="form-control" placeholder="First Name" %}
        </div>
        <div class="form-group col-md-6">
          <label for="last_name">Last Name</label>
          {% render_field userForm.last_name|attr:'required:true'  class="form-control" placeholder="Last Name" %}
        </div>
      </div>

      <div class="form-row">
        <div class="form-group col-md-6">
          <label for="username">
              Username
              <i class="fas fa-info-circle" data-toggle="tooltip" title="Username is auto-generated from client's first name and last name"></i>
          </label>
          {% render_field userForm.username|attr:'required:true'  class="form-control" placeholder="Username" %}
        </div>
        <div class="form-group col-md-6">
          <label for="inputPassword4">
              Password
              <i class="fas fa-info-circle" data-toggle="tooltip" title="Enter your password"></i>
          </label>
          {% render_field userForm.password|attr:'required:true'  class="form-control" placeholder="password" %}
        </div>
      </div>

      <div class="form-row">
        <div class="form-group col-md-6">
          <label for="mobile">Mobile</label>
          {% render_field customerForm.mobile|attr:'required:true'  class="form-control" placeholder="Mobile" %}
        </div>
        <div class="form-group col-md-6">
          <label for="address">Email Address</label>
          {% render_field customerForm.address|attr:'required:true'  class="form-control" placeholder="Email" %}
        </div>
      </div>

      <div class="form-row">
        <div class="form-group col-md-6">
          <label for="mobile">Alternate Phone
            <i class="fas fa-info-circle" data-toggle="tooltip" title="Enter N/A if not available"></i>
          </label>
          {% render_field customerForm.alternate_phone|attr:'required:false'  class="form-control" placeholder="Mobile" %}
        </div>
        <div class="form-group col-md-6">
          <label for="address">ID Number</label>
          {% render_field customerForm.id_number|attr:'required:true'  class="form-control" placeholder="ID" %}
        </div>
      </div>

      <div class="form-row">
        <div class="form-group col-md-6">
          <label for="mobile">Physical Address</label>
          {% render_field customerForm.physical_address|attr:'required:true'  class="form-control" placeholder="Physical Address" %}
        </div>
        <div class="form-group col-md-6">
          <label for="address">Postal Address</label>
          {% render_field customerForm.postal_address|attr:'required:true'  class="form-control" placeholder="Postal Address" %}
        </div>
      </div>

      <div class="form-row">
        <!--div class="form-group col-md-6">
          <label for="mobile">Physical Address</label>
          {% render_field customerForm.mobile|attr:'required:true'  class="form-control" placeholder="Mobile" %}
        </div-->
        <div class="form-group col-md-6">
          <label for="address">Occupation</label>
          {% render_field customerForm.occupation|attr:'required:true'  class="form-control" placeholder="Occupation" %}
        </div>
      </div>
      <div class="form-row">
        <div class="form-group col-md-12">
          <label for="profile_pic">Profile Picture
            <i class="fas fa-info-circle" data-toggle="tooltip" title="Please upload an image displaying the upper body, covering the area from the chest to the head. This helps us create a professional and identifiable profile for you."></i>
          </label>
          {% render_field customerForm.profile_pic|attr:'required:true' class="form-control" placeholder="" %}
        </div>
        
      </div>
      <button type="submit" class="btn btn-primary">Sign Up</button>
    </form>
    <br><br>

    <!-- JAVASCRIPT SCRIPTS FOR MORE FUNCTIONALITIES -->

    <script>
      //Function to display the tooltip information 'i' icon
      $(document).ready(function(){
        $('[data-toggle="tooltip"]').tooltip(); 
      });
    </script>
    <script>
      $(document).ready(function () {
        // Function to update the username field
        function updateUsername() {
          var firstName = $('#id_first_name').val().toLowerCase();
          var lastName = $('#id_last_name').val().toLowerCase();
          var generatedUsername = firstName.charAt(0) + lastName;
          $('#id_username').val(generatedUsername);
        }
    
        // Listen for changes in the first_name and last_name fields
        $('#id_first_name, #id_last_name').on('input', function () {
          updateUsername();
        });
        // Initial username update
        updateUsername();
      });

    </script>
    {% include "insurance/footer.html" %}
  </body>
</html>
